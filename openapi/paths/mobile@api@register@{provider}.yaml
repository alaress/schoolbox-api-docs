post:
  operationId: mobileRegister
  tags: [mobile]
  summary: Register Mobile Device
  security:
    - none: []
  description: "In order to register your app to receive push notifications you first need to notify Schoolbox of a valid user and the app identifier. This process is handled via a POST call as specified below"
  parameters:
    - name: provider
      in: path
      description: The type of device that is connecting to the service, either Apple (APNS) of Google Andriod (GCM).
      required: true
      example: 'GCM'
      schema:
        type: string
        enum:
          - GCM
          - APNS
  responses:
    '201':
      description: Mobile return data
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                description: A schoolbox user ID number
                type: integer
              key:
                description: A key for accessing resources on behalf of that user like RSS or VCAL feeds
                type: string
              role:
                description: The role type the user has in Schoolbox
                type: string
                enum: ['staff','student','parent','guest']
                example: 'parent'
    '400':
      description: Not enough data provided or could not authenticate user
      content:
        text/plain:
          type: string

  requestBody:
    content:
      application/x-www-form-urlencoded:
        schema:
          type: object
          properties:
            username:
              description: The user who logged into the device
              type: string
            password:
              description: The users password who logged into the device
              type: string
            jwt:
              description: Optionally you may provide a JWT token generated via an oAuth request instead of a username password pair
              type: string
            token:
              description: A unique string used to identify the user on the device, you don't provide this no device will be registered
              type: string
            appId:
              description: A unique string to identify the apps identity
              type: string
            deviceId:
              description: A unique string to identify the device identity, this is normally not provided or is the same as the app id due to limitations by device makers.
              type: string
          required:
            - appId
